<section class="w-full mt-28">
  <h1 class="font-bold text-4xl">Posts#new</h1>
  <p>Find me in app/views/posts/new.html.erb</p>

  <div class="my-5 w-full">
    <%= simple_form_for @post do |f| %>
      <%= f.input :serialized_steps_data, as: :text %>

      <% if f.object.current_step_is? :step_1 %>
        <%= f.input :title %>
        <%= f.input :author %>
        <%= f.input :url %>
      <% end %>

      <% if f.object.current_step_is? :step_2 %>
        <%= f.input :description %>
      <% end %>

      <% if f.object.current_step_is? :step_3 %>
        <%= f.input :content, input_html: { class: "w-full" } %>
      <% end %>

      <div class="mt-5">
        <% if f.object.has_previous_step? %>
          <%= f.submit "précédent", value: "previous", class: "bg-red-300 p-2 cursor-pointer shadow-sm rounded-sm" %>
        <% end %>

        <%= f.submit "1", value: "step_1", class: "bg-blue-300 p-2 cursor-pointer shadow-sm rounded-sm" %>
        <%= f.submit "2", value: "step_2", class: "bg-indigo-300 p-2 cursor-pointer shadow-sm rounded-sm" %>
        <%= f.submit "3", value: "step_3", class: "bg-purple-300 p-2 cursor-pointer shadow-sm rounded-sm" %>

        <% if f.object.has_next_step? %>
          <%= f.submit "suivant", value: "next", class: "bg-green-300 p-2 cursor-pointer shadow-sm rounded-sm" %>
        <% end %>

        <%= f.submit "créer", value: "create", class: "bg-orange-300 p-2 cursor-pointer shadow-sm rounded-sm" %>
      </div>
    <% end %>
  </div>

  <%= link_to "reset", new_post_path, class: "bg-zinc-300 p-2 cursor-pointer shadow-sm rounded-sm" %>
</section>

<%= console %>
